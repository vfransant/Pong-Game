<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Jogo Pong</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body>
  <script>
    function setup() {
      createCanvas(600, 400);
    }

    // Posição da bola
    var pos_x = 300;
    var pos_y = 200;
    var raio = 20;
    var vel_x = 5;
    var vel_y = 7;

    // Posição do jogador 1
    var posXjog1 = 5;
    var posYjog1 = 150;

    // Posição do jogador 2
    var posXjog2 = 585;
    var posYjog2 = 150;

    // Largura dos jogadores
    var largjog = 10;

    // Altura dos jogadores
    var alturajog = 100;

    // Pontuação dos jogadores
    // Jogador 1
    var points1 = 0;

    // Jogador 2
    var points2 = 0;

    function draw() {
      background(0, 32, 13, 100);

      // Pontos do jogador 1
      textSize(35);
      fill(255);
      text(points1, 20, 50);

      // Pontos do jogador 2
      text(points2, 560, 50);

      // Linha central
      stroke(255, 255, 255);
      line(300, 0, 300, 400);

      // Bola
      fill(198, 255, 221);
      stroke(0);
      circle(pos_x, pos_y, raio * 2);

      // Jogador 1
      fill(0, 159, 64);
      rect(posXjog1, posYjog1, largjog, alturajog);

      // Jogador 2
      fill(0, 159, 64);
      rect(posXjog2, posYjog2, largjog, alturajog);

      // Movimentação do jogador 1
      if (keyIsDown(87)) {
        posYjog1 -= 5;
      }
      if (keyIsDown(83)) {
        posYjog1 += 5;
      }
      if (posYjog1 >= 300) {
        posYjog1 -= 5;
      }
      if (posYjog1 <= 0) {
        posYjog1 += 5;
      }

      // Movimento do jogador 2
      if (keyIsDown(UP_ARROW)) {
        posYjog2 -= 5;
      }
      if (keyIsDown(DOWN_ARROW)) {
        posYjog2 += 5;
      }
      if (posYjog2 >= 300) {
        posYjog2 -= 5;
      }
      if (posYjog2 <= 0) {
        posYjog2 += 5;
      }

      pos_x -= vel_x;
      pos_y += vel_y;

      if (pos_y <= raio || pos_y >= 400 - raio) {
        vel_y *= -1;
      }

      if (pos_x <= posXjog1 + 20 && pos_y >= posYjog1 && pos_y <= posYjog1 + alturajog) {
        vel_x *= -1;
      } else if (pos_x >= posXjog2 - 20 && pos_y >= posYjog2 && pos_y <= posYjog2 + alturajog) {
        vel_x *= -1;
      } else {
        if (pos_x <= 0 || pos_x >= 600) {
          if (pos_x <= 0) {
            points2 += 1;
          } else {
            points1 += 1;
          }
          pos_x = 300;
          pos_y = 200;
        }
      }
    }
  </script>
</body>
</html>
